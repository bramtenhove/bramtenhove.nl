var emotionApp={wrapper:"#emotion-app",onReady:function(){$(emotionApp.wrapper).length>0&&$("form",emotionApp.wrapper).submit(function(e){e.preventDefault(),$(".message",emotionApp.wrapper).remove();var o=/^(http|https)?:\/\/[a-zA-Z0-9-\.]+\.[a-z]{2,4}/;o.test($("input[name=image]").val())?(console.log(e),emotionApp.getEmotionByImage($("input[name=image]").val())):$(".results",emotionApp.wrapper).prepend('<div class="message error">Please provide a valid image URL.</div>')})},getEmotionByImage:function(e){var o="5b7211ee8d554584b33ac05dad6d2e49",p={},t='{url: "'+e+'"}';$.ajax({url:"https://api.projectoxford.ai/emotion/v1.0/recognize?"+$.param(p),beforeSend:function(e){e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Ocp-Apim-Subscription-Key",o),$(".results",emotionApp.wrapper).html("Calculating emotion...")},type:"POST",data:t}).done(function(o){o.length>0?($(".results",emotionApp.wrapper).html('<p><img src="'+e+'" width="100%" /></p><div class="scores"></div>'),emotion=Object.keys(o[0].scores).reduce(function(e,p){return o[0].scores[e]>o[0].scores[p]?e:p}),$(".results .scores",emotionApp.wrapper).append('<div class="face">'+emotion+"</div>")):($(".results",emotionApp.wrapper).html(""),$(".results",emotionApp.wrapper).prepend('<div class="message error">The provided image could not processed, please try again with a different image.</div>'))}).fail(function(){$(".results",emotionApp.wrapper).html(""),$(".results",emotionApp.wrapper).prepend('<div class="message error">The provided image could not processed, please try again with a different image.</div>')})}};$(document).ready(emotionApp.onReady);var app={onReady:function(){$(function(){pull=$("#pull-menu"),menu=$("#main-menu ul.menu"),$(pull).on("click",function(e){e.preventDefault(),menu.stop().slideToggle(150)})}),$(window).resize(function(){pull.is(":hidden")&&menu.removeAttr("style")}),$.fn.owlCarousel&&$(".owl-carousel").owlCarousel({lazyLoad:!0,singleItem:!0,pagination:!1,autoHeight:!0,autoPlay:!0,stopOnHover:!0})}};$(document).ready(app.onReady);