function main(){addLiveEvent("#chat .responses a","click",function(e){chatActionEvent(e.target)}),setTimeout(function(){chatAction(0)},defaultStringDelay)}function chatActionEvent(e){var t=e.getAttribute("data-response");if(t){displayMessage(e.innerText,!0);var n=document.querySelectorAll("#chat .responses a");if(n.length>0)for(var a=0,s=n.length;a<s;a++)n[a].remove();chatAction(t)}}function chatAction(e){var t=getMessageById(e);if(t)for(var n=defaultStringDelay,a=0,s=t.messages.length;a<s;a++){var i=t.messages[a],o=determineCharDelay(i);displayMessage(i,!1,o,n),n+=t.messages[a].length*o+defaultStringDelay,a==s-1&&setTimeout(function(){if(t.actions)for(var e=0,n=t.actions.length;e<n;e++)displayAction(t.actions[e].text,t.actions[e].key)},n-defaultStringDelay)}}function determineCharDelay(e){return e.length>80?5:e.length>50?10:e.length>30?15:e.length>15?25:40}function displayMessage(e,t,n,a){var s=document.querySelector("#chat .messages"),i="",o="...",r=document.createElement("div");addClass(r,"columns"),t&&(addClass(r,"is-clearfix"),i=" visitor is-pulled-right",o=e),r.innerHTML='<div class="column"><article class="message'+i+'"><div class="message-body">'+o+"</div></article></div>",t?s.appendChild(r):(setTimeout(function(){s.appendChild(r)},a-textIndicatorTime),setTimeout(function(){typeWriter(r.querySelector(".message-body"),e,n,0)},a))}function displayAction(e,t){var n=document.querySelector("#chat .responses .column"),a=document.createElement("a");a.innerHTML=e,addClass(a,"button"),addClass(a,"is-primary"),a.setAttribute("data-response",t),n.appendChild(a)}function typeWriter(e,t,n,a){a<t.length&&(e.innerHTML=t.substring(0,a+1),a++,setTimeout(function(){typeWriter(e,t,n,a)},n))}function getMessageById(e){var t=getMessages();return null!=e&&e in t?t[e]:null}function getMessages(){return{0:{messages:["Hi! How are you?","Iâ€™m Bram ten Hove, a web developer living in Hengelo, the Netherlands.","Want to know more or get in touch?"],actions:[{key:1,text:"Tell me more!"},{key:2,text:"Get in touch!"}]},1:{messages:["I've been working on the web for years now."],actions:[{key:3,text:"tralala"}]},2:{messages:["bye"]},3:{messages:["awesome"],actions:[{key:1,text:"biep"}]}}}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)}function addLiveEvent(e,t,n,a){(a||document).addEventListener(t,function(t){for(var a=document.querySelectorAll(e),s=[],i=0;i<a.length;++i)s.push(a[i]);if(s){for(var o=t.target,r=-1;o&&(r=-1===s.indexOf(o));)o=o.parentElement;r>-1&&n.call(o,t)}},!1)}var textIndicatorTime=500,defaultStringDelay=750;"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});