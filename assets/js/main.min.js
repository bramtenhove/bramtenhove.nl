function main(){addLiveEvent("#chat .responses a","click",function(e){chatAction(e.target)})}function chatAction(e){var s=e.getAttribute("data-response");if(s){displayMessage(e.innerText,!0);for(var t=document.querySelectorAll("#chat .responses a"),a=0,n=t.length;a<n;a++)t[a].remove();var i=getMessageById(s);if(i){for(var a=0,n=i.messages.length;a<n;a++)displayMessage(i.messages[a]);for(var a=0,n=i.actions.length;a<n;a++)displayAction(i.actions[a].text,i.actions[a].key)}}}function getMessages(){return{0:{messages:["hello"],actions:[{key:"response-x",text:"oll"},{key:"response-y",text:"loip"}]},1:{messages:["bye"]},"response-x":{messages:["awesome"],actions:[{key:1,text:"biep"}]},"response-y":{messages:["tralla","blaaaat","blap"],actions:[{key:0,text:"bsas"},{key:1,text:"oi oi"}]}}}function getMessageById(e){var s=getMessages();return e&&e in s?s[e]:null}function displayMessage(e,s){var t=document.querySelector("#chat .messages"),a="",n=document.createElement("div");addClass(n,"columns"),s&&(addClass(n,"is-clearfix"),a=" visitor is-pulled-right"),n.innerHTML='<div class="column"><article class="message'+a+'"><div class="message-body">'+e+"</div></article></div>",t.appendChild(n)}function displayAction(e,s){var t=document.querySelector("#chat .responses .column"),a=document.createElement("a");a.innerHTML=e,addClass(a,"button"),addClass(a,"is-primary"),a.setAttribute("data-response",s),t.appendChild(a)}function hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("\\b"+s+"\\b").test(e.className)}function addClass(e,s){e.classList?e.classList.add(s):hasClass(e,s)||(e.className+=" "+s)}function addLiveEvent(e,s,t,a){(a||document).addEventListener(s,function(s){for(var a=document.querySelectorAll(e),n=[],i=0;i<a.length;++i)n.push(a[i]);if(n){for(var o=s.target,c=-1;o&&(c=-1===n.indexOf(o));)o=o.parentElement;c>-1&&t.call(o,s)}},!1)}"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});