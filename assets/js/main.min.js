function main(){displayMessage("OK! So bla bla bla bla."),displayMessage("Bla bla bla, bla bla. Bla bla."),displayMessage("Very interesting",!0),displayMessage("..."),addLiveEvent("#chat .responses a","click",function(e){chatAction(e.target)})}function chatAction(e){var a=e.getAttribute("data-response");if(a){displayMessage(e.innerText,!0);for(var s=document.querySelectorAll("#chat .responses a"),t=0,n=s.length;t<n;t++)s[t].remove();var i=getMessageById(a);if(i){for(var t=0,n=i.messages.length;t<n;t++)displayMessage(i.messages[t]);for(var t=0,n=i.actions.length;t<n;t++)displayAction(i.actions[t],"response-x")}}}function getMessages(){return{0:{messages:["hello"],actions:["oi","loi"]},1:{messages:["bye"]},"response-x":{messages:["awesome"],actions:["biep"]},"response-y":{messages:["tralla","blaaaat","blap"],actions:["traag","oi oi"]}}}function getMessageById(e){var a=getMessages();return e&&e in a?a[e]:null}function displayMessage(e,a){var s=document.querySelector("#chat .messages"),t="",n=document.createElement("div");addClass(n,"columns"),a&&(addClass(n,"is-clearfix"),t=" visitor is-pulled-right"),n.innerHTML='<div class="column"><article class="message'+t+'"><div class="message-body">'+e+"</div></article></div>",s.appendChild(n)}function displayAction(e,a){var s=document.querySelector("#chat .responses .column"),t=document.createElement("a");t.innerHTML=e,addClass(t,"button"),addClass(t,"is-primary"),t.setAttribute("data-response",a),s.appendChild(t)}function hasClass(e,a){return e.classList?e.classList.contains(a):new RegExp("\\b"+a+"\\b").test(e.className)}function addClass(e,a){e.classList?e.classList.add(a):hasClass(e,a)||(e.className+=" "+a)}function addLiveEvent(e,a,s,t){(t||document).addEventListener(a,function(a){for(var t=document.querySelectorAll(e),n=[],i=0;i<t.length;++i)n.push(t[i]);if(n){for(var l=a.target,o=-1;l&&(o=-1===n.indexOf(l));)l=l.parentElement;o>-1&&s.call(l,a)}},!1)}"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});