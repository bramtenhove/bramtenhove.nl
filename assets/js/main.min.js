function main(){addLiveEvent("#chat .responses a","click",function(e){chatAction(e.target)})}function chatAction(e){var t=e.getAttribute("data-response");if(t){for(var n=document.querySelectorAll("#chat .responses a"),s=0,a=n.length;s<a;s++)n[s].remove();var i=getMessageById(t);if(i)for(var o=defaultStringDelay,s=0,a=i.messages.length;s<a;s++){var r=i.messages[s],l=determineCharDelay(r);displayMessage(r,l,o),o+=i.messages[s].length*l+defaultStringDelay,s==a-1&&setTimeout(function(){for(var e=0,t=i.actions.length;e<t;e++)displayAction(i.actions[e].text,i.actions[e].key)},o-defaultStringDelay)}}}function determineCharDelay(e){return e.length>80?5:e.length>50?10:e.length>30?15:e.length>15?25:40}function getMessages(){return{0:{messages:["hello"],actions:[{key:"response-x",text:"oll"},{key:"response-y",text:"loip"}]},1:{messages:["bye"]},"response-x":{messages:["awesome"],actions:[{key:1,text:"biep"}]},"response-y":{messages:["Hi! How are you?","Iâ€™m Bram ten Hove, a web developer living in Hengelo, the Netherlands.","blap"],actions:[{key:0,text:"bsas"},{key:1,text:"oi oi"}]}}}function getMessageById(e){var t=getMessages();return e&&e in t?t[e]:null}function displayMessage(e,t,n){setTimeout(function(){var n=document.querySelector("#chat .messages"),s=document.createElement("div");addClass(s,"columns"),s.innerHTML='<div class="column"><article class="message"><div class="message-body">...</div></article></div>',n.appendChild(s),typeWriter(s.querySelector(".message-body"),e,t,0)},n)}function typeWriter(e,t,n,s){s<t.length&&(e.innerHTML=t.substring(0,s+1),s++,setTimeout(function(){typeWriter(e,t,n,s)},n))}function displayAction(e,t){var n=document.querySelector("#chat .responses .column"),s=document.createElement("a");s.innerHTML=e,addClass(s,"button"),addClass(s,"is-primary"),s.setAttribute("data-response",t),n.appendChild(s)}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)}function addLiveEvent(e,t,n,s){(s||document).addEventListener(t,function(t){for(var s=document.querySelectorAll(e),a=[],i=0;i<s.length;++i)a.push(s[i]);if(a){for(var o=t.target,r=-1;o&&(r=-1===a.indexOf(o));)o=o.parentElement;r>-1&&n.call(o,t)}},!1)}var defaultStringDelay=350;"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});