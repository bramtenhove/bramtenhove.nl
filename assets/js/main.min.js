function main(){addLiveEvent("#chat .responses a","click",function(e){chatAction(e.target)})}function chatAction(e){var s=e.getAttribute("data-response");if(s){displayMessage(e.innerText,!0);for(var a=document.querySelectorAll("#chat .responses a"),t=0,n=a.length;t<n;t++)a[t].remove();var i=getMessageById(s);if(i){for(var t=0,n=i.messages.length;t<n;t++)displayMessage(i.messages[t]);for(var t=0,n=i.actions.length;t<n;t++)displayAction(i.actions[t],"response-x")}}}function getMessages(){return{0:{messages:["hello"],actions:["oi","loi"]},1:{messages:["bye"]},"response-x":{messages:["awesome"],actions:["biep"]},"response-y":{messages:["tralla","blaaaat","blap"],actions:["traag","oi oi"]}}}function getMessageById(e){var s=getMessages();return e&&e in s?s[e]:null}function displayMessage(e,s){var a=document.querySelector("#chat .messages"),t="",n=document.createElement("div");addClass(n,"columns"),s&&(addClass(n,"is-clearfix"),t=" visitor is-pulled-right"),n.innerHTML='<div class="column"><article class="message'+t+'"><div class="message-body">'+e+"</div></article></div>",a.appendChild(n)}function displayAction(e,s){var a=document.querySelector("#chat .responses .column"),t=document.createElement("a");t.innerHTML=e,addClass(t,"button"),addClass(t,"is-primary"),t.setAttribute("data-response",s),a.appendChild(t)}function hasClass(e,s){return e.classList?e.classList.contains(s):new RegExp("\\b"+s+"\\b").test(e.className)}function addClass(e,s){e.classList?e.classList.add(s):hasClass(e,s)||(e.className+=" "+s)}function addLiveEvent(e,s,a,t){(t||document).addEventListener(s,function(s){for(var t=document.querySelectorAll(e),n=[],i=0;i<t.length;++i)n.push(t[i]);if(n){for(var o=s.target,c=-1;o&&(c=-1===n.indexOf(o));)o=o.parentElement;c>-1&&a.call(o,s)}},!1)}"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});