function main(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceWorker.js",{scope:"/"}),new SmoothScroll('a[href*="#"]',{speed:350,easing:"easeInQuad"}),addLiveEvent("#chat .responses a","click",function(e){chatActionEvent(e.target),addClass(document.getElementById("chat-scroll-indicator"),"moved")}),setTimeout(function(){getCookie("returns")?chatAction(getRandomInt(20,22)):(setCookie("returns",!0,60),chatAction(0))},defaultStringDelay)}function chatActionEvent(e){var t=e.getAttribute("data-response");if(t){displayMessage(e.innerText,!0);var n=document.querySelectorAll("#chat .responses a");if(n.length>0)for(var a=0,o=n.length;a<o;a++)n[a].remove();chatAction(t)}}function chatAction(e){var t=getMessageById(e);if(t)for(var n=defaultStringDelay,a=0,o=t.messages.length;a<o;a++){var i=t.messages[a];displayMessage(i,!1,n);var s=splitText(i),r="";for(var c in s)r=r.concat(s[c]);var l=determineCharDelay(r);n+=r.length*l+defaultStringDelay,a==o-1&&setTimeout(function(){if(t.actions)for(var e=0,n=t.actions.length;e<n;e++)displayAction(t.actions[e].text,t.actions[e].key)},n)}}function splitText(e){return e.split(/<a>(.*?)<\/a>/)}function determineCharDelay(e){return e.length>80?10:e.length>50?15:e.length>30?20:e.length>15?25:40}function displayMessage(e,t,n){var a=document.querySelector("#chat .messages"),o="",i="...",s=document.createElement("div");addClass(s,"columns"),t&&(addClass(s,"is-clearfix"),o=" visitor is-pulled-right",i=e),s.innerHTML='<div class="column"><article class="message'+o+'"><div class="message-body">'+i+"</div></article></div>",t?a.appendChild(s):(setTimeout(function(){a.appendChild(s)},n-textIndicatorTime),setTimeout(function(){var t=splitText(e);""==t[0]&&t.splice(0,1);var n="";for(var a in t)n=n.concat(t[a]);var o=determineCharDelay(n);s.querySelector(".message-body").innerHTML="";var i=0;for(var a in t){var r=s.querySelector(".message-body"),c=getLinkOfString(t[a]);if(!1!==c){var l=document.createElement("a");"none"!==c&&(l.href=c,l.rel="nofollow"),r.appendChild(l),r=l}else{var u=document.createElement("span");r.appendChild(u),r=u}a>0?(i+=o,setTimeout(typeWriter,i,r,t[a],o,0)):typeWriter(r,t[a],o,0),i+=t[a].length*o+o}},n))}function typeWriter(e,t,n,a){a<t.length&&(e.innerHTML+=t.charAt(a),a++,setTimeout(function(){typeWriter(e,t,n,a)},n))}function displayAction(e,t){var n=document.querySelector("#chat .responses .column"),a=document.createElement("a");a.innerHTML=e,addClass(a,"button"),addClass(a,"is-primary"),a.setAttribute("data-response",t),n.appendChild(a)}function getMessageById(e){var t=getMessages();return null!=e&&e in t?t[e]:null}function getLinkOfString(e){var t={"Greenpeace Greenwire":"https://greenwire.greenpeace.org",Ben:"https://www.ben.nl","Open Social":"https://www.getopensocial.com",LinkedIn:"https://www.linkedin.com/in/bramth",GitHub:"https://github.com/bramtenhove","hello@bramtenhove.nl":"none"};return!!t[e]&&t[e]}function getMessages(){return{0:{messages:["Hi! How are you?","Iâ€™m Bram ten Hove, a web developer living in Hengelo, the Netherlands.","Want to know more or get in touch?"],actions:[{key:1,text:"Tell me more"},{key:3,text:"Let's get in touch!"}]},1:{messages:["Cool!","I've been building websites since I was still quite young. I liked it so much that I went to the university to learn more.","Now that I am a professional web developer I focus my work on making sites useful and user-friendly."],actions:[{key:2,text:"Do you have some examples?"}]},2:{messages:["But of course.","I helped create an award winning, international, multi-language community platform, <a>Greenpeace Greenwire</a>.","I've done most of the architecture for <a>Ben</a>, a telecom provider in The Netherlands with a large user base and a well-visited website.","<a>Open Social</a> is open-source community software, I'm part of its core team ðŸŒ»","If you want we can have a cup of coffee and talk about what I can do for you."],actions:[{key:3,text:"Sure, let's do it!"},{key:4,text:"I'm fine, thanks"}]},3:{messages:["Ok, let's talk! Send me a message at <a>hello@bramtenhove.nl</a>.","If you want, you can also visit my <a>LinkedIn</a> or check out my <a>GitHub</a> page."]},4:{messages:["Alright. If you want you can still scroll down to read a bit more ðŸ‘‡"]},20:{messages:["Nice to see you again! ðŸ‘‹","Do you want to know some more? Or would you like to get in touch now?"],actions:[{key:1,text:"Tell me some more"},{key:3,text:"Let's get in touch!"}]},21:{messages:["Welcome back! ðŸ˜Ž","Do you want to know some more? Or would you like to get in touch now?"],actions:[{key:1,text:"Tell me some more"},{key:3,text:"Let's get in touch!"}]},22:{messages:["Hi there!","Do you want to know some more? Or would you like to get in touch now?"],actions:[{key:1,text:"Tell me some more"},{key:3,text:"Let's get in touch!"}]}}}function hasClass(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}function addClass(e,t){e.classList?e.classList.add(t):hasClass(e,t)||(e.className+=" "+t)}function getCookie(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function setCookie(e,t,n){var a=new Date;a.setTime(a.getTime()+864e5*n),document.cookie=e+"="+t+";path=/;expires="+a.toGMTString()}function addLiveEvent(e,t,n,a){(a||document).addEventListener(t,function(t){for(var a=document.querySelectorAll(e),o=[],i=0;i<a.length;++i)o.push(a[i]);if(o){for(var s=t.target,r=-1;s&&(r=-1===o.indexOf(s));)s=s.parentElement;r>-1&&n.call(s,t)}},!1)}var textIndicatorTime=500,defaultStringDelay=750;"loading"!=document.readyState?main():document.addEventListener?document.addEventListener("DOMContentLoaded",main):document.attachEvent("onreadystatechange",function(){"complete"==document.readyState&&main()});